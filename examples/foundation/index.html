<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>mojedit</title>
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/foundation.min.css" />
    <link rel="stylesheet" href="../../jquery.mojedit.css" />
    <link rel="stylesheet" href="css/mojedit.css" />
    <link rel="stylesheet" href="css/font-awesome.min.css" />
    <script src="js/modernizr.js"></script>
  </head>
  <body>
    <div class="fixed">
      <nav class="top-bar" data-topbar>
        <ul class="title-area">
          <li class="name">
            <h1><a class="brand" href="/">mojedit</a></h1> 
          </li>
        </ul>
      </nav>
      <div class="panel tool-bar">
      </div>
    </div>
    <div class="workspace">
      <div class="page"></div> 
      <pre></pre>
    </div>
    
    <script src="../../vendor/jquery.js"></script>
    <script src="../../vendor/jquery-ui.js"></script>
    <script src="js/jquery.ui.touch-punch.min.js"></script>
    <script src="js/foundation.min.js"></script>
    <script src="../../vendor/rangy-core.js"></script>
    <script src="../../vendor/rangy-cssclassapplier.js"></script>
    <script src="../../jquery.mojedit.js"></script>
    <script>
      $( function(){
        var $page = $( '.page' );
        
        $page.mojedit({
          elements: {
            header: {
              html: '<strong>H</strong>',
              element: '<h1>header</h1>',
              editable: true
            },
            text: {
              html: '<strong>P</strong>',
              element: '<p>paragraph</p>',
              editable: true
            },
            list: {
              html: '<i class="fa fa-list-ul"></i>',
              element: '<ul><li>list</li></ul>',
              editable: true
            },    
            numbered: {
              html: '<i class="fa fa-list-ol"></i>',
              description: 'numbered list',
              element: '<ol><li>list</li></ol>',
              editable: true
            },
            image: {
              html: '<i class="fa fa-picture-o"></i>',
              element: '<div class="image-container"><img src="http://placekitten.com/240/240" /></div>'
            }    
          },
          formatters: {
            strong: {
              html: '<i class="fa fa-bold"></i>'
            },
            em: {
              description: 'emphasis',
              html: '<i class="fa fa-italic"></i>'            
            },
            u: {
              description: 'underline',
              html: '<i class="fa fa-underline"></i>'            
            },
            a: { 
              description: 'link',
              html: '<i class="fa fa-link"></i>',
              properties: {
                href: 'new:' 
              },
              getProperties: function(){
                return {
                  href: window.prompt( 'url?' )
                };
              }
            }
          },
          modes: {
            move: {
              html: '<i class="fa fa-arrows"></i>'
            },
            edit: {
              html: '<i class="fa fa-pencil-square-o"></i>'
            }
          },  
          buttonContainer:  '.tool-bar',
          buttonGroupWrapper: '<div class="button-bar"></div>',
          buttonGroup: '<ul class="button-group"></ul>',
          buttonWrapper: '<li></li>',
          button: '<a href="#" class="secondary button"></a>',         
          onModeChange: function( mode ){
            var $modes = $( '.mode-group .button' );
            $modes.addClass( 'secondary' );
            $mode = $modes.filter( '[data-action="' + mode + '"]' );
            $mode.removeClass( 'secondary' );
          }
        });
        
        $( document ).foundation();
      });
      
    </script>
  </body>
</html>